<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/ClipTeam/clipcc-extension" target="_blank" class="menu-item" id="github_link" >Github Repo</a></h2><h3>Modules</h3><ul><li><a href="module-API.html">API</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-API.html#~addBlock">addBlock</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~addCategory">addCategory</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~getBlockInstance">getBlockInstance</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~getGuiInstance">getGuiInstance</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~getPlaygroundData">getPlaygroundData</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~getVmInstance">getVmInstance</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~isDesktop">isDesktop</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~isEditorLoading">isEditorLoading</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~loadProject">loadProject</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~registExtensionAPI">registExtensionAPI</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~removeBlock">removeBlock</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~removeCategory">removeCategory</a></li></ul></li><li><a href="module-Manager.html">Manager</a></li><li><a href="module-Type.html">Type</a></li></ul><h3>Classes</h3><ul><li><a href="CompatibleExtension.html">CompatibleExtension</a><ul class='methods'><li data-type='method' style='display: none;'><a href="CompatibleExtension.html#beforeProjectLoad">beforeProjectLoad</a></li><li data-type='method' style='display: none;'><a href="CompatibleExtension.html#beforeProjectSave">beforeProjectSave</a></li><li data-type='method' style='display: none;'><a href="CompatibleExtension.html#init">init</a></li><li data-type='method' style='display: none;'><a href="CompatibleExtension.html#onInit">onInit</a></li><li data-type='method' style='display: none;'><a href="CompatibleExtension.html#onUninit">onUninit</a></li></ul></li><li><a href="Extension.html">Extension</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Extension.html#beforeProjectLoad">beforeProjectLoad</a></li><li data-type='method' style='display: none;'><a href="Extension.html#beforeProjectSave">beforeProjectSave</a></li><li data-type='method' style='display: none;'><a href="Extension.html#onInit">onInit</a></li><li data-type='method' style='display: none;'><a href="Extension.html#onUninit">onUninit</a></li></ul></li><li><a href="module-Manager-ExtensionManager.html">ExtensionManager</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#_checkExtensionLoadingOrderById">_checkExtensionLoadingOrderById</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#_checkExtensionUnloadingOrderById">_checkExtensionUnloadingOrderById</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#addInstance">addInstance</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#exist">exist</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#getExtensionLoadOrder">getExtensionLoadOrder</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#getExtensionUnloadOrder">getExtensionUnloadOrder</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#getInfo">getInfo</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#getInstance">getInstance</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#loadExtensionsWithMode">loadExtensionsWithMode</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#removeInstance">removeInstance</a></li><li data-type='method' style='display: none;'><a href="module-Manager-ExtensionManager.html#unloadExtensions">unloadExtensions</a></li></ul></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-installation.html">Installation</a></li></ul><h3>Global</h3><ul><li><a href="global.html#callGlobalFunction">callGlobalFunction</a></li><li><a href="global.html#migrateChangeBlock">migrateChangeBlock</a></li><li><a href="global.html#registerGlobalFunction">registerGlobalFunction</a></li><li><a href="global.html#unregisterGlobalFunction">unregisterGlobalFunction</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><p><a href="https://github.com/Clipteam/clipcc-extension/blob/master/README_CN.md">Chinese version</a></p>
<h1>ClipCC Extension Writing Guide</h1>
<h4>Please note! Before you start learning to develop extensions, the ClipCC extensions <strong>are still in development</strong> and there may be major changes to the existing extension API that may cause the extension to fail before the official release of the feature. This tutorial will use the ClipCC extension API as of August 22nd for demonstration purposes.</h4>
<h2>Preparation</h2>
<ol>
<li>you need a computer with acceptable performance. for device safety, please do not developing by smartphoneðŸ¤”.</li>
<li>you need to install Node.js and npm (you can also use yarn instead).</li>
</ol>
<h2>Create a new project</h2>
<p>To make it easier to write the extension, please go to your working folder and then run the following commands in order.</p>
<pre class="prettyprint source lang-shell"><code>npm -g install clipcc-extension-cli # You can also replace it with yarn global add clipcc-extension-cli
mkdir example-extension # example-extension can be replaced with the name of your own extension project
cd example-extension
npm init # can also be replaced with yarn init
ccext-cli
</code></pre>
<p>In the last step, the ClipCC extension development scaffold will ask questions about the extension information, so please answer them one by one, as shown in the figure.</p>
<p><img src="https://s3.jpg.cm/2021/08/22/IbEeHG.png" alt="Image loading..."></p>
<p>After answering the questions, the scaffold will automatically install the dependencies and wait for the installation to complete before creating a new ClipCC extension project.</p>
<h2>Write an extension</h2>
<p>After running, the contents of your folder should look like this.</p>
<pre class="prettyprint source"><code>/src
package.json
webpack.config.js
</code></pre>
<p>Where the core code of the extension is stored under the src folder, the contents of the folder should look like this (it's normal that the locales folder doesn't exist, so please create it yourself to attach files)</p>
<pre class="prettyprint source"><code>assets/
- icon.jpg
- inset_icon.svg
locales/
- en.json
index.js
info.json
</code></pre>
<p>The locales directory is used to store the style of the module in different languages, assets is used to store the plugin resources, index.js is the main file to register the module/implement the function, and info.json is the plugin information.</p>
<p>First, open src/index.js and fill in the following content.</p>
<pre class="prettyprint source lang-javascript"><code>const ClipCC = require('clipcc-extension');

class ExampleExtension extends ClipCC.Extension {
    onInit() {
        ClipCC.API.addCategory({
            categoryId: 'clipteam.example.category',
            messageId: 'clipteam.example.category.category',
            color: '#339900'
        });
        ClipCC.API.addBlock({
            opcode: 'clipteam.example.return',
            type: ClipCC.Type.BlockType.REPORTER,
            messageId: 'clipteam.example.return.message',
            categoryId: 'clipteam.example.category',
            argument: {
                VALUE: {
                    type: ClipCC.Type.ParameterType.STRING,
                    default: 'Hello World!'
                }
            },
            function: args => this.ReturnValue(args.VALUE)
        });
        ClipCC.API.addBlock({
            opcode: 'clipteam.example.helloworld',
            type: ClipCC.Type.BlockType.COMMAND,
            messageId: 'clipteam.example.helloworld.message',
            categoryId: 'clipteam.example.category',
            function: args => this.HelloWorld()
        });
    }

    onUninit() {
        ClipCC.API.removeCategory('clipteam.example.category');
    }
    
    ReturnValue(VALUE) {
        return VALUE;
    }
    
    HelloWorld() {
        console.log(&quot;Hello World!&quot;);
        alert(&quot;Hello World!&quot;);
    }
}

module.exports = ExampleExtension;
</code></pre>
<p>Then open src/locales/en.json and fill in</p>
<pre class="prettyprint source lang-json"><code>{
    &quot;clipteam.example.name&quot;: &quot;Example&quot;,
    &quot;clipteam.example.category.message&quot;: &quot;Example&quot;,
    &quot;clipteam.example.description&quot;: &quot;ClipCC example extension,
    &quot;clipteam.example.return.message&quot;: &quot;return [VALUE]&quot;,
    &quot;clipteam.example.message&quot;: &quot;Hello World!&quot;
}

</code></pre>
<p>After writing, run <code>npm run build</code> in the project top-level folder and the generated plugin can be found under dist/. Afterwards, import the generated plugin directly into ClipCC 3.1 and it will work as follows.</p>
<p><img src="https://s3.jpg.cm/2021/08/22/IbEuKQ.png" alt="image loading..."></p>
<h2>Finally</h2>
<p>The above is an example of the simplest ClipCC plugin, the following may be useful for your further development.</p>
<p>ClipCC extension documentation: <a href="https://clipteam.github.io/clipcc-extension/">click here</a></p>
<p>ClipCC QQ group: 959825608</p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Sun Aug 22 2021 05:25:09 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>