<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://github.com/ClipTeam/clipcc-extension" target="_blank" class="menu-item" id="github_link" >Github Repo</a></h2><h3>Modules</h3><ul><li><a href="module-API.html">API</a><ul class='methods'><li data-type='method' style='display: none;'><a href="module-API.html#~addBlock">addBlock</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~addCategory">addCategory</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~registExtensionAPI">registExtensionAPI</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~removeBlock">removeBlock</a></li><li data-type='method' style='display: none;'><a href="module-API.html#~removeCategory">removeCategory</a></li></ul></li><li><a href="module-Type.html">Type</a></li></ul><h3>Classes</h3><ul><li><a href="CompatibleExtension.html">CompatibleExtension</a><ul class='methods'><li data-type='method' style='display: none;'><a href="CompatibleExtension.html#init">init</a></li><li data-type='method' style='display: none;'><a href="CompatibleExtension.html#uninit">uninit</a></li></ul></li><li><a href="Extension.html">Extension</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Extension.html#init">init</a></li><li data-type='method' style='display: none;'><a href="Extension.html#uninit">uninit</a></li></ul></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-getting_started.html">Getting Started</a></li><li><a href="tutorial-installation.html">Installation</a></li></ul>
</nav>

<div id="main">
    

    



    


    <section class="package">
        <h3> </h3>		
    </section>









    



    <section class="readme usertext">
        <article><h1>ClipCC Extension</h1>
<p><code>clipcc-extension</code> 是一个用于编写 ClipCC 扩展的API。</p>
<h2>什么是ClipCC3 扩展？</h2>
<p>ClipCC3 扩展是正在开发中的ClipCC3功能，他允许用户能够自由的为ClipCC3添加新的功能（包括但不限于新模块，新外观）。
<img src="https://i.niupic.com/images/2021/05/20/9i1I.jpg" alt=""></p>
<!--more-->
<h2>在开始之前</h2>
<p>请注意！在开始学习开发扩展之前，请注意<strong>ClipCC3 扩展功能仍处于开发阶段</strong>，在正式发布该功能之前已有扩展API可能会出现大的改动造成扩展失效。本教程将使用截至5月20日的ClipCC3 扩展API进行演示。</p>
<h2>环境要求</h2>
<p>您需要事先安装好NodeJS与npm（也可以使用yarn代替），为了节省篇幅不详细叙述安装方法，请通过搜索引擎自行查询教程。</p>
<h2>建立一个新项目</h2>
<p>为了方便项目管理，请您先进入您的工作文件夹再按顺序运行以下命令：</p>
<pre class="prettyprint source lang-bash"><code>npm -g install clipcc-extension-cli # 也可替换为yarn global add clipcc-extension-cli
mkdir example-extension # example-extension可换为自己的扩展项目名
cd example-extension
npm init # 也可替换为yarn init
ccext-cli -g
npm install # 也可替换为yarn
</code></pre>
<p>在运行完毕之后，您的文件夹内容应该是这样的：</p>
<pre class="prettyprint source"><code>/src
package.json
webpack.config.js
</code></pre>
<p>其中，扩展项目的核心代码都存储在src文件夹下面，文件夹内容应该是这样的（locales文件夹不存在很正常，请自行建立该文件夹以附属文件）：</p>
<pre class="prettyprint source"><code>assets/
- icon.jpg
- inset_icon.svg
locales/
- en.json
- zh-cn.json
index.js
info.json
</code></pre>
<p>其中locales目录用于存放不同语言下模块的样式，assets用于存放插件资源，index.js为注册模块/实现功能的主要文件，info.json则是插件信息。</p>
<h2>编写一个最简单的扩展</h2>
<p>首先请先打开src/info.json，填写如下内容：</p>
<pre class="prettyprint source lang-json"><code>{
    &quot;id&quot;: &quot;your.extension.id&quot;,
    &quot;author&quot;: &quot;Your Name&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;icon&quot;: &quot;assets/icon.jpg&quot;,
    &quot;inset_icon&quot;: &quot;assets/inset_icon.svg&quot;
}
</code></pre>
<p>然后打开src/index.js，填写如下内容：</p>
<pre class="prettyprint source lang-javascript"><code>const ClipCC = require('clipcc-extension');

class ExampleExtension extends ClipCC.Extension {
    init() {
        ClipCC.API.addCategory({
            categoryId: 'your.extension.id.category',
            messageId: 'your.extension.id.category.name',
            color: '#339900'
        });
        ClipCC.API.addBlock({
            opcode: 'your.extension.id.return',
            type: ClipCC.Type.BlockType.REPORTER,
            messageId: 'your.extension.id.return',
            categoryId: 'your.extension.id.category',
            argument: {
                VALUE: {
                    type: ClipCC.Type.ArgumentType.STRING,
                    default: 'Hello World!'
                }
            },
            function: args => this.ReturnValue(args.VALUE)
        });
        ClipCC.API.addBlock({
            opcode: 'your.extension.id.helloworld',
            type: ClipCC.Type.BlockType.COMMAND,
            messageId: 'your.extension.id.helloworld',
            categoryId: 'your.extension.id.category',
            function: args => this.HelloWorld()
        });
    }

    uninit() {
        ClipCC.API.removeCategory('your.extension.id.category');
    }
    
    ReturnValue(VALUE) {
        return VALUE;
    }
    
    HelloWorld() {
        console.log(&quot;Hello World!&quot;);
        alert(&quot;Hello World!&quot;);
    }
}

module.exports = ExampleExtension;
</code></pre>
<p>然后打开src/locales/en.json与src/locales/zh-cn.json，分别填写</p>
<pre class="prettyprint source lang-json"><code>{
    &quot;your.extension.id.name&quot;: &quot;Example&quot;,
    &quot;your.extension.id.category.name&quot;: &quot;Example&quot;,
    &quot;your.extension.id.description&quot;: &quot;ClipCC example extension.&quot;,
    &quot;your.extension.id.return&quot;: &quot;return [VALUE]&quot;,
    &quot;your.extension.id.helloworld&quot;: &quot;Hello World!&quot;
}

</code></pre>
<pre class="prettyprint source lang-json"><code>{
    &quot;your.extension.id.name&quot;: &quot;示例&quot;,
    &quot;your.extension.id.category.name&quot;: &quot;示例&quot;,
    &quot;your.extension.id.description&quot;: &quot;ClipCC示例扩展.&quot;,
    &quot;your.extension.id.return&quot;: &quot;返回 [VALUE]&quot;,
    &quot;your.extension.id.helloworld&quot;: &quot;Hello World!&quot;
}

</code></pre>
<p>编写完毕之后，在项目顶层文件夹执行<code>npm run build</code>，生成的插件可以在 dist/ 下找到，之后直接导入ClipCC即可使用。
<img src="https://i.niupic.com/images/2021/05/20/9i21.jpg" alt=""></p>
<h2>最后</h2>
<p>以上则是一个最简单的ClipCC插件示例，以下内容可能对你的进一步编写有帮助：
ClipCC扩展文档：<a href="https://clipteam.github.io/clipcc-extension/">点这里</a>
ClipCC本地存储扩展代码：<a href="https://github.com/Clipteam/clipcc-extension-local-storage">点这里</a>
ClipCC JavaScript扩展代码：<a href="https://github.com/SinanGentoo/clipcc-extension-javascript">点这里</a>
ClipCC 官方交流QQ群：959825608</p></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a> on Sat May 22 2021 16:00:24 GMT+0800 (中国标准时间) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>